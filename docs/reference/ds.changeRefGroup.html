<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changes the reference level of a factor in the server-side — ds.changeRefGroup • dsBaseClient</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changes the reference level of a factor in the server-side — ds.changeRefGroup" />
<meta property="og:description" content="Change the reference level of a factor, by putting 
the reference group first.
This function is similar to R function relevel." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">dsBaseClient</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">6.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Changes the reference level of a factor in the server-side</h1>
    
    <div class="hidden name"><code>ds.changeRefGroup.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Change the reference level of a factor, by putting 
the reference group first.</p>
<p>This function is similar to R function <code>relevel</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>ds.changeRefGroup</span>(
  x = <span class='kw'>NULL</span>,
  ref = <span class='kw'>NULL</span>,
  newobj = <span class='kw'>NULL</span>,
  reorderByRef = <span class='fl'>FALSE</span>,
  datasources = <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a character string providing the name of the input vector of type factor.</p></td>
    </tr>
    <tr>
      <th>ref</th>
      <td><p>the reference level.</p></td>
    </tr>
    <tr>
      <th>newobj</th>
      <td><p>a character string that provides the name for the output object
that is stored on the server-side. Default <code>changerefgroup.newobj</code>.</p></td>
    </tr>
    <tr>
      <th>reorderByRef</th>
      <td><p>logical, if TRUE the new vector
should be ordered by the reference group (i.e. putting the reference group first).
The default is to not re-order (see the reasons in the details).</p></td>
    </tr>
    <tr>
      <th>datasources</th>
      <td><p>a list of <code><a href='https://rdrr.io/pkg/DSI/man/DSConnection-class.html'>DSConnection-class</a></code> objects obtained after login. 
If the <code>datasources</code> argument is not specified
the default set of connections will be used: see <code><a href='https://rdrr.io/pkg/DSI/man/datashield.connections_default.html'>datashield.connections_default</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>ds.changeRefGroup</code> returns a new vector  with the specified level as a reference
which is written to the server-side.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function
allows the user to re-order the vector, putting the reference
group first. It should be mentioned that by default the reference is 
the first level in the vector of levels.  
If the user chooses the re-order a warning is issued
as this can introduce a mismatch of values if the vector is put back
into a table that is not reordered in the same way. Such mismatch
can render the results of operations on that table invalid.</p>
<p>Server function called: <code>changeRefGroupDS</code></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='ds.cbind.html'>ds.cbind</a></code> Combines objects column-wise.</p>
<p><code><a href='ds.levels.html'>ds.levels</a></code> to obtain the levels (categories) of a vector of type factor.</p>
<p><code><a href='ds.colnames.html'>ds.colnames</a></code> to obtain the column names of a matrix or a data frame</p>
<p><code><a href='ds.asMatrix.html'>ds.asMatrix</a></code> to coerce an object into a matrix type.</p>
<p><code><a href='ds.dim.html'>ds.dim</a></code> to obtain the dimensions of a matrix or a data frame.</p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>DataSHIELD Development Team</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>if</span> (<span class='fl'>FALSE</span>) {

  <span class='co'>## Version 6, for version 5 see the Wiki</span>
  <span class='co'># Connecting to the Opal servers</span>

  <span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='st'><a href='https://github.com/datashield/DSI'>'DSI'</a></span>)
  <span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='st'><a href='https://www.obiba.org'>'DSOpal'</a></span>)
  <span class='fu'><a href='https://rdrr.io/r/base/library.html'>require</a></span>(<span class='st'>'dsBaseClient'</span>)

  <span class='kw'>builder</span> <span class='op'>&lt;-</span> <span class='kw'>DSI</span>::<span class='fu'><a href='https://rdrr.io/pkg/DSI/man/newDSLoginBuilder.html'>newDSLoginBuilder</a></span>()
  <span class='kw'>builder</span><span class='op'>$</span><span class='fu'><a href='https://rdrr.io/r/base/append.html'>append</a></span>(server = <span class='st'>"study1"</span>, 
                 url = <span class='st'>"http://192.168.56.100:8080/"</span>, 
                 user = <span class='st'>"administrator"</span>, password = <span class='st'>"datashield_test&amp;"</span>, 
                 table = <span class='st'>"CNSIM.CNSIM1"</span>, driver = <span class='st'>"OpalDriver"</span>)
  <span class='kw'>builder</span><span class='op'>$</span><span class='fu'><a href='https://rdrr.io/r/base/append.html'>append</a></span>(server = <span class='st'>"study2"</span>, 
                 url = <span class='st'>"http://192.168.56.100:8080/"</span>, 
                 user = <span class='st'>"administrator"</span>, password = <span class='st'>"datashield_test&amp;"</span>, 
                 table = <span class='st'>"CNSIM.CNSIM2"</span>, driver = <span class='st'>"OpalDriver"</span>)
  <span class='kw'>builder</span><span class='op'>$</span><span class='fu'><a href='https://rdrr.io/r/base/append.html'>append</a></span>(server = <span class='st'>"study3"</span>,
                 url = <span class='st'>"http://192.168.56.100:8080/"</span>, 
                 user = <span class='st'>"administrator"</span>, password = <span class='st'>"datashield_test&amp;"</span>, 
                 table = <span class='st'>"CNSIM.CNSIM3"</span>, driver = <span class='st'>"OpalDriver"</span>)
  <span class='kw'>logindata</span> <span class='op'>&lt;-</span> <span class='kw'>builder</span><span class='op'>$</span><span class='fu'><a href='https://rdrr.io/r/utils/PkgUtils.html'>build</a></span>()
  
  <span class='co'># Log onto the remote Opal training servers</span>
  <span class='kw'>connections</span> <span class='op'>&lt;-</span> <span class='kw'>DSI</span>::<span class='fu'><a href='https://rdrr.io/pkg/DSI/man/datashield.login.html'>datashield.login</a></span>(logins = <span class='kw'>logindata</span>, assign = <span class='fl'>TRUE</span>, symbol = <span class='st'>"D"</span>) 

  <span class='co'># Changing the reference group in the server-side</span>
 
    <span class='co'># Example 1: rename the categories and change the reference with re-ordering</span>
      <span class='co'># print out the levels of the initial vector</span>
      <span class='fu'><a href='ds.levels.html'>ds.levels</a></span>(x= <span class='st'>"D$PM_BMI_CATEGORICAL"</span>,
                datasources = <span class='kw'>connections</span>)

      <span class='co'># define a vector with the new levels and recode the initial levels</span>
      <span class='kw'>newNames</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"normal"</span>, <span class='st'>"overweight"</span>, <span class='st'>"obesity"</span>)
      <span class='fu'><a href='ds.recodeLevels.html'>ds.recodeLevels</a></span>(x = <span class='st'>"D$PM_BMI_CATEGORICAL"</span>,
                      newCategories = <span class='kw'>newNames</span>,
                      newobj = <span class='st'>"bmi_new"</span>,
                      datasources = <span class='kw'>connections</span>)

      <span class='co'># print out the levels of the new vector</span>
      <span class='fu'><a href='ds.levels.html'>ds.levels</a></span>(x = <span class='st'>"bmi_new"</span>,
                datasources = <span class='kw'>connections</span>)

      <span class='co'># Set the reference to "obesity" without changing the order (default)</span>
      <span class='fu'>ds.changeRefGroup</span>(x = <span class='st'>"bmi_new"</span>,
                        ref = <span class='st'>"obesity"</span>,
                        newobj = <span class='st'>"bmi_ob"</span>,
                        datasources = <span class='kw'>connections</span>)

      <span class='co'># print out the levels; the first listed level (i.e. the reference) is now 'obesity'</span>
      <span class='fu'><a href='ds.levels.html'>ds.levels</a></span>(x = <span class='st'>"bmi_ob"</span>,
                datasources = <span class='kw'>connections</span>)

    <span class='co'># Example 2: change the reference and re-order by the reference level</span>
      <span class='co'># If re-ordering is sought, the action is completed but a warning is issued</span>
      <span class='fu'><a href='ds.recodeLevels.html'>ds.recodeLevels</a></span>(x = <span class='st'>"D$PM_BMI_CATEGORICAL"</span>,
                      newCategories = <span class='kw'>newNames</span>,
                      newobj = <span class='st'>"bmi_new"</span>,
                     datasources = <span class='kw'>connections</span>)
      <span class='fu'>ds.changeRefGroup</span>(x = <span class='st'>"bmi_new"</span>,
                        ref = <span class='st'>"obesity"</span>,
                        newobj = <span class='st'>"bmi_ob"</span>,
                        reorderByRef = <span class='fl'>TRUE</span>,
                        datasources = <span class='kw'>connections</span>)

           
  <span class='co'># Clear the Datashield R sessions and logout</span>
  <span class='fu'><a href='https://rdrr.io/pkg/DSI/man/datashield.logout.html'>datashield.logout</a></span>(<span class='kw'>connections</span>) 
}
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by DataSHIELD Developers.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


